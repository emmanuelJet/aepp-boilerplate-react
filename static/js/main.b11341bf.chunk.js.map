{"version":3,"sources":["utils/aeternity.js","logo.svg","configs/node.js","App.js","reportWebVitals.js","index.js"],"names":["client","nodeConfig","testnet","name","url","middlewareUrl","mainnet","compilerUrl","scanForWallets","Error","scannerConnection","BrowserWindowMessageConnection","connectionInfo","id","detector","WalletDetector","connection","Promise","resolve","scan","a","newWallet","window","confirm","getConnection","connectToWallet","subscribeAddress","stopScan","aeternitySDK","Node","internalUrl","instance","node","nodes","RpcAepp","onNetworkChange","params","selectNode","networkId","console","error","App","useState","clientReady","useEffect","sdk","address","balance","format","AE_AMOUNT_FORMATS","AE","log","err","className","src","logo","alt","href","target","rel","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2UASIA,E,wFCTW,G,OAAA,IAA0B,kC,6CCc1BC,EAdI,CAClBC,QAAS,CACRC,KAAM,SACNC,IAAK,+BACLC,cAAe,oCAEhBC,QAAS,CACRH,KAAM,aACNC,IAAK,+BACLC,cAAe,oCAEhBE,YAAa,8BFARC,EAAiB,WACtB,IAAKR,EAAQ,MAAM,IAAIS,MAAM,0BAC5B,IAAMC,EAAoBC,YAA+B,CACvDC,eAAgB,CAAEC,GAAI,SAElBC,EAAWC,YAAe,CAAEC,WAAYN,IAE/C,OAAO,IAAIO,SAAQ,SAACC,GACjBJ,EAASK,KAAT,uCAAc,6BAAAC,EAAA,yDAASC,EAAT,EAASA,UAAT,qDAGXC,OAAOC,QAAP,2CAAmDF,EAAUlB,OAHlD,6BAIRH,EAJQ,SAIqBqB,EAAUG,gBAJ/B,yCAIDC,gBAJC,yCAKRzB,EAAO0B,iBAAiB,YAAa,WAL7B,QAOdZ,EAASa,WACTT,GAAQ,GARM,4CAAd,2DAeSU,EAAY,uCAAG,4BAAAR,EAAA,2EAKZnB,EAAWC,QAAQC,KALP,SAMF0B,YAAK,CACnBzB,IAAKH,EAAWC,QAAQE,IACxB0B,YAAa7B,EAAWC,QAAQG,gBARhB,gCAKlBF,KALkB,KAMlB4B,SANkB,WAYZ9B,EAAWK,QAAQH,KAZP,SAaF0B,YAAK,CACnBzB,IAAKH,EAAWK,QAAQF,IACxB0B,YAAa7B,EAAWK,QAAQD,gBAfhB,gCAYlBF,KAZkB,KAalB4B,SAbkB,4BAmBT9B,EAAWM,YAjBpByB,EAFkB,CAGtBC,MAHsB,KAmBtB1B,YAnBsB,gBAsBT2B,YAAQ,yBACrB/B,KAAM,oBACN6B,GAFoB,IAGvBG,gBAAgB,WAAD,4BAAE,WAAOC,GAAP,SAAAhB,EAAA,sDAChBpB,EAAOqC,WAAWD,EAAOE,WADT,2CAAF,mDAAC,MAzBS,eAsBxBtC,EAtBwB,iBA8BpBQ,IA9BoB,iCAgCjBR,GAhCiB,yCAkCxBuC,QAAQC,MAAR,MAlCwB,6EAAH,qD,QGyBVC,EAjDH,WACX,MAA8BC,mBAAS,MAAvC,mBAAO1C,EAAP,KAAe2C,EAAf,KAwBC,OAtBDC,qBAAU,WACP,IACD,sBAAC,gCAAAxB,EAAA,sEACgBQ,IADhB,cACIiB,EADJ,gBAGsBA,EAAIC,UAH1B,cAGMA,EAHN,gBAIsBD,EAAIE,QAAQD,EAAS,CAC1CE,OAAQC,IAAkBC,KAL3B,OAIMH,EAJN,OAQAR,QAAQY,IAAI,mBAAoBL,GAChCP,QAAQY,IAAI,mBAAoBJ,EAAUE,IAAkBC,IAE5DP,GAAY,GAXZ,2CAAD,GAaC,MAAOS,GACRb,QAAQC,MAAM,wDAAyDY,GAEvET,GAAY,MAEV,IAGD,qBAAKU,UAAU,MAAf,SACE,yBAAQA,UAAU,aAAlB,UACE,qBAAKC,IAAKC,EAAMF,UAAU,WAAWG,IAAI,SACzC,4BAEFxD,EACE,gDACA,0BAGA,mBACEqD,UAAU,WACVI,KAAK,0CACLC,OAAO,SACPC,IAAI,sBAJN,uCClCOC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCAdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.b11341bf.chunk.js","sourcesContent":["import { \n\tNode,\n\tRpcAepp\n} from \"@aeternity/aepp-sdk/es\";\nimport WalletDetector from \"@aeternity/aepp-sdk/es/utils/aepp-wallet-communication/wallet-detector\";\nimport BrowserWindowMessageConnection from \"@aeternity/aepp-sdk/es/utils/aepp-wallet-communication/connection/browser-window-message\";\n\nimport nodeConfig from \"../configs/node\";\n\nlet client;\n\nconst scanForWallets = () => {\n\tif (!client) throw new Error(\"Use aeternitySDK first\");\n  const scannerConnection = BrowserWindowMessageConnection({\n    connectionInfo: { id: 'spy' }\n  });\n  const detector = WalletDetector({ connection: scannerConnection });\n\n\treturn new Promise((resolve) => {\n    detector.scan(async ({ newWallet }) => {\n      if (!newWallet) return;\n\n\t\t\tif (window.confirm(`Do you want to connect to wallet ${newWallet.name}`)) {\n\t\t\t\tawait client.connectToWallet(await newWallet.getConnection())\n\t\t\t\tawait client.subscribeAddress(\"subscribe\", \"current\")\n\n\t\t\t\tdetector.stopScan()\n\t\t\t\tresolve(true);\n\t\t\t}\n    });\n  });\n};\n\n\nexport const aeternitySDK = async () => {\n  try {\n    const node = {\n      nodes: [\n        {\n          name: nodeConfig.testnet.name,\n          instance: await Node({\n            url: nodeConfig.testnet.url,\n            internalUrl: nodeConfig.testnet.middlewareUrl,\n          }),\n        },\n\t\t\t\t{\n          name: nodeConfig.mainnet.name,\n          instance: await Node({\n            url: nodeConfig.mainnet.url,\n            internalUrl: nodeConfig.mainnet.middlewareUrl,\n          }),\n        }\n      ],\n      compilerUrl: nodeConfig.compilerUrl,\n    };\n\n    client = await RpcAepp({\n      name: \"aepp-boilerplate\",\n\t\t\t...node,\n\t\t\tonNetworkChange: async (params) => {\n\t\t\t\tclient.selectNode(params.networkId);\n\t\t\t}\n    });\n    \n\t\tawait scanForWallets();\n\n    return client;\n  } catch (err) {\n    console.error(err);\n    return;\n  }\n};\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","const nodeConfig = {\n\ttestnet: {\n\t\tname: \"ae_uat\",\n\t\turl: \"https://testnet.aeternity.io\",\n\t\tmiddlewareUrl: \"https://testnet.aeternity.io/mdw\",\n\t},\n\tmainnet: {\n\t\tname: \"ae_mainnet\",\n\t\turl: \"https://mainnet.aeternity.io\",\n\t\tmiddlewareUrl: \"https://mainnet.aeternity.io/mdw\",\n\t},\n\tcompilerUrl: \"https://compiler.aepps.com\",\n};\n\nexport default nodeConfig;\n","import {\n\tuseState,\n\tuseEffect\n} from 'react';\nimport { AE_AMOUNT_FORMATS } from '@aeternity/aepp-sdk/es/utils/amount-formatter';\n\nimport './App.css';\nimport logo from './logo.svg';\nimport { aeternitySDK } from \"./utils/aeternity\";\n\nconst App = () => {\n\tconst [client, clientReady] = useState(null);\n\n\tuseEffect(() => {\n    try {\n\t\t\t(async () => {\n\t\t\t\tlet sdk = await aeternitySDK();\n\n\t\t\t\tconst address = await sdk.address();\n\t\t\t\tconst balance = await sdk.balance(address, {\n\t\t\t\t\tformat: AE_AMOUNT_FORMATS.AE,\n\t\t\t\t});\n\n\t\t\t\tconsole.log(\"Current Address:\", address);\n\t\t\t\tconsole.log(\"Current Balance:\", balance + AE_AMOUNT_FORMATS.AE);\n\n\t\t\t\tclientReady(true);\t\t\n\t\t\t})();\n\t\t} catch (err) {\n\t\t\tconsole.error('SDK not loaded correctly or loaded for the first time', err);\n\n\t\t\tclientReady(false)\n\t\t}\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n\t\t\t\t\t{\n\t\t\t\t\t\tclient\n\t\t\t\t\t\t? \"See console for the connected account details\"\n\t\t\t\t\t\t: \"Account not connected\"\n\t\t\t\t\t}\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://aeternity.com/awesome-aeternity\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n\t\t\t\t\tawesome Ã¦ternity\n        </a>\n      </header>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}